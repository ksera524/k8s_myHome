apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: grafana-cloud-monitoring
  namespace: monitoring
spec:
  refreshInterval: 5m
  secretStoreRef:
    name: pulumi-esc-store
    kind: ClusterSecretStore
  dataFrom:
    - find:
        path: "grafana-monitoring"
  target:
    name: grafana-cloud-monitoring
    template:
      data:
        api-token: "{{ .api_token }}"
        metrics-username: "{{ .metrics_username }}"
        logs-username: "{{ .logs_username }}"
        otlp-username: "{{ .otlp_username }}"