=== Phase 4 基本インフラ構築完了 (GitOps対応版) ===

構築完了コンポーネント:
- MetalLB (LoadBalancer)
- NGINX Ingress Controller  
- cert-manager
- ArgoCD: 7 Pod(s) Running
- LoadBalancer IP: 192.168.122.100
- Harbor パスワード管理: セキュアにSecret化済み

ArgoCD App of Apps デプロイ済み:
- リポジトリ: https://github.com/ksera524/k8s_myHome.git
- 管理対象: infra/*.yaml

Harbor Secret管理:
- harbor-admin-secret (harbor namespace)
- harbor-auth (arc-systems, default namespaces)
- harbor-registry-secret (Docker認証用)
- External Secrets 経由でPulumi ESCから自動取得
true

接続情報:
- k8sクラスタ: ssh k8suser@192.168.122.10
- ArgoCD UI: kubectl port-forward svc/argocd-server -n argocd 8080:443
- Harbor UI: kubectl port-forward svc/harbor-core -n harbor 8081:80
- LoadBalancer経由: http://192.168.122.100 (Ingressルーティング)

手動セットアップ必要項目:
1. Cloudflared Secret作成
2. GitHub Repository Secrets設定:
   - HARBOR_USERNAME: admin
   - HARBOR_PASSWORD: (設定済みパスワード)

Harbor パスワード管理コマンド:
- External Secrets確認: kubectl get externalsecrets -A
- Pulumi ESC確認: kubectl get secrets -A | grep pulumi-access-token
- Secret同期確認: kubectl describe externalsecret harbor-admin-secret -n harbor
- Slack Secret確認: kubectl describe externalsecret slack-externalsecret -n sandbox
- Secret確認: kubectl get secret harbor-admin-secret -n harbor -o yaml

External Secrets セットアップ (オプション):
- セットアップ: cd external-secrets && ./setup-external-secrets.sh
- PAT設定: ./setup-pulumi-pat.sh --interactive
- 動作確認: ./test-harbor-secrets.sh
- Slack Secret確認: kubectl get secret slack -n sandbox
