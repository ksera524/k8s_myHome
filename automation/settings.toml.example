# k8s_myHome è‡ªå‹•åŒ–è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰
# ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ settings.toml ã¨ã—ã¦ä½¿ç”¨ã—ã¦ãã ã•ã„
#
# ä½¿ç”¨æ–¹æ³•:
# 1. cp settings.toml.example settings.toml
# 2. å¿…è¦ãªå€¤ã‚’è¨­å®šï¼ˆç§˜åŒ¿æƒ…å ±ã®ã¿ï¼‰
# 3. make all å®Ÿè¡Œ
#
# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„:
# - settings.toml ã¯ .gitignore ã«è¿½åŠ æ¸ˆã¿
# - ãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ã§ãã ã•ã„

# ========================================
# Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿è¨­å®š
# ========================================
[kubernetes]
# ã‚¯ãƒ©ã‚¹ã‚¿å
cluster_name = "home-k8s"
# Kubernetesãƒãƒ¼ã‚¸ãƒ§ãƒ³
version = "v1.29.0"
# Kubernetesãƒ¦ãƒ¼ã‚¶ãƒ¼
user = "k8suser"
# SSHç§˜å¯†éµãƒ‘ã‚¹
ssh_key_path = "/home/k8suser/.ssh/id_ed25519"

# ========================================
# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãƒ»é€šå¸¸å¤‰æ›´ä¸è¦ï¼‰
# ========================================
[network]
# ãƒ›ã‚¹ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š
network_cidr = "192.168.122.0/24"
gateway_ip = "192.168.122.1"

# Kubernetes ãƒãƒ¼ãƒ‰IP
control_plane_ip = "192.168.122.10"
worker_1_ip = "192.168.122.11"
worker_2_ip = "192.168.122.12"

# Kuberneteså†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯
pod_network_cidr = "10.244.0.0/16"
service_cidr = "10.96.0.0/12"

# MetalLB LoadBalancer IPç¯„å›²
metallb_ip_start = "192.168.122.100"
metallb_ip_end = "192.168.122.150"

# ã‚µãƒ¼ãƒ“ã‚¹å›ºå®šIP
harbor_lb_ip = "192.168.122.100"
ingress_lb_ip = "192.168.122.101"
argocd_lb_ip = "192.168.122.102"

# ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ãƒˆ
kubernetes_api_port = 6443
argocd_port_forward = 8080
harbor_port_forward = 8081

# ========================================
# Harborè¨­å®š
# ========================================
[harbor]
# Harbor URLï¼ˆå¤‰æ›´ä¸è¦ï¼‰
url = "harbor.local"
# Harbor HTTPãƒãƒ¼ãƒˆ
http_port = 80
# Harbor HTTPSãƒãƒ¼ãƒˆï¼ˆæœªä½¿ç”¨ï¼‰
https_port = 443
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
project = "sandbox"
# ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼å
admin_username = "admin"
# ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆExternal SecretsçµŒç”±ã§å–å¾—ã€å¿…é ˆï¼‰
# admin_password = ""  # ç’°å¢ƒå¤‰æ•° HARBOR_ADMIN_PASSWORD ã¾ãŸã¯ ESOçµŒç”±ã§è¨­å®š
# ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚µã‚¤ã‚º
registry_size = "100Gi"
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µã‚¤ã‚º
database_size = "10Gi"

# ========================================
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³
# ========================================
[versions]
# ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
metallb = "0.13.12"
ingress_nginx = "4.8.2"
cert_manager = "1.13.3"
argocd = "5.51.6"
harbor = "1.13.1"
external_secrets = "0.9.11"

# CNI
flannel = "latest"

# ========================================
# ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸è¨­å®š
# ========================================
[storage]
# ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ™ãƒ¼ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
base_dir = "/data"
# NFSã‚·ã‚§ã‚¢ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
nfs_share = "/data/nfs-share"
# ãƒ­ãƒ¼ã‚«ãƒ«ãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
local_volumes = "/data/local-volumes"
# StorageClasså
default_storage_class = "local-path"

# ========================================
# ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼ˆç§’ï¼‰
# ========================================
[timeout]
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
default = 300
# kubectl ã‚³ãƒãƒ³ãƒ‰ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
kubectl = 120
# Helm ã‚³ãƒãƒ³ãƒ‰ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
helm = 300
# ArgoCD åŒæœŸã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
argocd_sync = 600
# SSHæ¥ç¶šã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
ssh_connect = 10
# Terraform ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
terraform = 600

# ========================================
# ãƒªãƒˆãƒ©ã‚¤è¨­å®š
# ========================================
[retry]
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒªãƒˆãƒ©ã‚¤å›æ•°
count = 3
# ãƒªãƒˆãƒ©ã‚¤é–“éš”ï¼ˆç§’ï¼‰
delay = 5
# æœ€å¤§ãƒªãƒˆãƒ©ã‚¤é–“éš”ï¼ˆç§’ï¼‰
max_delay = 60

# ========================================
# ãƒ­ã‚°è¨­å®š
# ========================================
[logging]
# ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
log_dir = "/var/log/k8s-myhome"
# ãƒ­ã‚°ãƒ¬ãƒ™ãƒ« (DEBUG, INFO, WARN, ERROR)
log_level = "INFO"
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
debug = false
# è©³ç´°å‡ºåŠ›
verbose = false

# ========================================
# ãƒ›ã‚¹ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—è¨­å®šï¼ˆmake allæ™‚ã«ä½¿ç”¨ï¼‰
# ========================================
[host_setup]
# USBå¤–éƒ¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ‡ãƒã‚¤ã‚¹å
# lsblk ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã—ã¦ãã ã•ã„
# ä¾‹: "sdb", "sdc", "nvme0n1"
usb_device_name = ""

# ========================================
# Pulumiè¨­å®šï¼ˆExternal Secrets Operatorç”¨ï¼‰
# ========================================
[pulumi]
# Pulumi Access Token (å¿…é ˆãƒ»è¦å…¥åŠ›)
# å–å¾—æ–¹æ³•: https://app.pulumi.com/account/tokens
# å½¢å¼: pul-ã§å§‹ã¾ã‚‹40æ–‡å­—ã®è‹±æ•°å­—
access_token = ""
# Pulumiçµ„ç¹”å
organization = "ksera"
# Pulumiãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
project = "k8s"
# Pulumiç’°å¢ƒå
environment = "secret"

# ========================================
# GitHubè¨­å®šï¼ˆGitHub Actions Runnerç”¨ï¼‰
# ========================================
[github]
# GitHubãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆå¿…é ˆãƒ»è¦å…¥åŠ›ï¼‰
# add-runner.sh, ArgoCD OAuthè¨­å®šã§ä½¿ç”¨
username = ""

# GitHub Actions Runner Controller (ARC) å¯¾è±¡ãƒªãƒã‚¸ãƒˆãƒªãƒªã‚¹ãƒˆ
# make allå®Ÿè¡Œæ™‚ã«è‡ªå‹•ä½œæˆã•ã‚Œã‚‹RunnerScaleSetç”¨è¨­å®š
# 
# ğŸ“‹ è¨­å®šæ–¹æ³•:
# å„é…åˆ—è¦ç´ : [ãƒªãƒã‚¸ãƒˆãƒªå, æœ€å°Runneræ•°, æœ€å¤§Runneræ•°, èª¬æ˜]
#
# ğŸ”§ Runneræ•°ã®è¨­å®šæŒ‡é‡:
# minRunners (æœ€å°Runneræ•°):
#   0 = ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰èµ·å‹• - ã‚¸ãƒ§ãƒ–ãŒã‚ã‚‹ã¨ãã®ã¿Runnerèµ·å‹•ï¼ˆãƒªã‚½ãƒ¼ã‚¹ç¯€ç´„ï¼‰
#   1 = å¸¸æ™‚ç¨¼åƒ - 1å°ã®RunnerãŒå¸¸é§ã—ã¦ã™ãã«ã‚¸ãƒ§ãƒ–ã‚’é–‹å§‹
#
# maxRunners (æœ€å¤§Runneræ•°):
#   åŒæ™‚å®Ÿè¡Œå¯èƒ½ãªæœ€å¤§Runneræ•°ï¼ˆä¸¦åˆ—ã‚¸ãƒ§ãƒ–æ•°ã«å¿œã˜ã¦è¨­å®šï¼‰
#   æ¨å¥¨: é€šå¸¸ã¯ 1-3ã€å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ 5ä»¥ä¸‹
#
# ğŸƒ ä½œæˆã•ã‚Œã‚‹RunnerScaleSetå:
# ãƒªãƒã‚¸ãƒˆãƒªå "my.project" â†’ Runnerå "my-project-runners"
# (ãƒ‰ãƒƒãƒˆã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã¯è‡ªå‹•çš„ã«ãƒã‚¤ãƒ•ãƒ³ã«å¤‰æ›)
#
# ğŸ“ ä½¿ç”¨ä¾‹:
# arc_repositories = [
#     ["k8s_myHome", 1, 3, "ãƒ¡ã‚¤ãƒ³ã® k8s_myHome ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"],
#     ["slack.rs", 0, 3, "Slack.rs Rust ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"], 
#     ["docs-site", 0, 1, "è»½é‡ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆ"],
#     ["api-server", 0, 2, "API ã‚µãƒ¼ãƒãƒ¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ"]
# ]
#
# ğŸ¯ Workflowå†…ã§ã®ä½¿ç”¨:
# jobs:
#   build:
#     runs-on: k8s-myhome-runners    # k8s_myHomeå°‚ç”¨
#     runs-on: slack-rs-runners      # slack.rså°‚ç”¨
arc_repositories = []

# ========================================
# è‡ªå‹•åŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆsettings-loader.shã§ä½¿ç”¨ï¼‰
# ========================================
[automation]
# ç¢ºèªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è‡ªå‹•ã§Yesã«ã™ã‚‹
auto_confirm_overwrite = true
# External Secrets Operatorã‚’æœ‰åŠ¹åŒ–
enable_external_secrets = true
# GitHub Actions Runnerã‚’æœ‰åŠ¹åŒ–
enable_github_actions = true
# ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’æœ‰åŠ¹åŒ–
enable_monitoring = false
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æœ‰åŠ¹åŒ–
enable_backup = false